# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                    Windowrules Configuration                ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

# Windows Rules https://wiki.hyprland.org/Configuring/Window-Rules/ #

# Float necessary windows
windowrule {
    name = float-pavucontrol
    match:class = ^org.pulseaudio.pavucontrol$
    float = on
}

windowrule {
    name = float-picture-in-picture-title
    match:title = ^Picture in picture$
    float = on
}

windowrule {
    name = float-save-open
    match:title = ^(Save File|Open File)$
    float = on
}

windowrule {
    name = float-librewolf-pip
    match:class = ^LibreWolf$
    match:title = ^Picture-in-Picture$
    float = on
}

windowrule {
    name = float-blueman-manager
    match:class = ^blueman-manager$
    float = on
}

windowrule {
    name = float-xdg-desktop-portals
    match:class = ^xdg-desktop-portal-(gtk|kde|hyprland).*
    float = on
}

windowrule {
    name = float-polkit-agents
    match:class = ^(polkit-gnome-authentication-agent-1|hyprpolkitagent|org.kde.polkit-kde-authentication-agent-1).*
    float = on
}

windowrule {
    name = float-cachyoshello
    match:class = ^CachyOSHello$
    float = on
}

windowrule {
    name = float-zenity
    match:class = ^zenity$
    float = on
}

windowrule {
    name = float-steam-self-updater
    match:title = ^Steam - Self Updater$
    float = on
}

# Opacity rules
windowrule {
    name = opacity-files-terminals
    match:class = ^(thunar|nemo)$
    opacity = 0.92
}

windowrule {
    name = opacity-discord-clients
    match:class = ^(discord|armcord|webcord)$
    opacity = 0.96
}

windowrule {
    name = opacity-messaging
    match:title = ^(QQ|Telegram)$
    opacity = 0.95
}

windowrule {
    name = opacity-netmusic
    match:title = ^NetEase Cloud Music Gtk4$
    opacity = 0.95
}

# Floats with sizing and move
windowrule {
    name = pip-size-and-move
    match:title = ^Picture-in-Picture$
    float = on
    size = 960 540
    move = (monitor_w*0.5 - window_w*0.5) (monitor_h*0.5 - window_h*0.5)
}

windowrule {
    name = media-floats
    match:title = ^(imv|mpv|danmufloat|termfloat|nemo|ncmpcpp)$
    float = on
    size = 960 540
    move = (monitor_w*0.5 - window_w*0.5) (monitor_h*0.5 - window_h*0.5)
}

windowrule {
    name = pin-danmufloat
    match:title = ^danmufloat$
    pin = on
}

windowrule {
    name = rounding-for-floats
    match:title = ^(danmufloat|termfloat)$
    rounding = 5
}

# Animations & special effects
windowrule {
    name = animate-terms
    match:class = ^(kitty|Alacritty)$
    animation = slide right
}

windowrule {
    name = no-blur-firefox
    match:class = ^org.mozilla.firefox$
    no_blur = on
}

# Decoration defaults for floating windows on certain workspaces
windowrule {
    name = border-float-workspaces
    match:workspace = w[fv1-10]
    match:float = 1
    border_size = 2
    border_color = $cachylblue
    rounding = 8
}

# Decoration defaults for tiled windows
windowrule {
    name = border-tiled-workspaces
    match:workspace = f[1-10]
    match:float = 0
    border_size = 3
    rounding = 4
}
